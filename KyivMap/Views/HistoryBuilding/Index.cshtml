@using PagedList.Mvc
@model IEnumerable<KyivMap.Models.HistoryBuilding>

@{
    ViewBag.Title = "Buildings";
}

@section Scripts{
	<script src="/Scripts/pages/buildingList.js"></script>
}

<h2>Buildings</h2>
<div class="row">
	<div class="col-xs-2">@Html.ActionLink("Добавить", "Add", null, new {@class = "btn btn-primary"})</div>
	<div class="col-xs-3 col-xs-offset-7">
		<div class="input-group">
      <input type="text" id="search-text" placeholder="Поиск..." class="form-control">
      <span class="input-group-btn">
        <button class="btn btn-default" id="search-clear" type="button"><span class="glyphicon glyphicon-remove"></span></button>
      </span>
    </div><!-- /input-group -->
	</div>
</div>
<table class="table table-hover">
	<thead>
		<tr>
			<th class="col-xs-1">
				#
			</th>
			<th class="col-xs-4">
				Имя
			</th>
			<th class="col-xs-2">
				Ключ
			</th>
			<th class="col-xs-1">
				Тип
			</th>
			<th class="col-xs-2">
				Годы постройки
			</th>
			<th class="col-xs-2">
				
			</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var word in Model.Reverse())
		{
			<tr data-id="@word.Id" class="building">
				<td>
					@word.Id
				</td>
				<td class="name">
					@word.Name
				</td>
				<td>
					@word.Key
				</td>
				<td>
					@word.Type
				</td>
				<td class="name">
					@word.StartBuildingYear - @word.EndBuildingYear
				</td>
				<td>
					@Html.ActionLink("Edit", "Edit", new {id = word.Id}) |
					@Ajax.ActionLink("Delete", "DeleteAsync", new {id = word.Id}, new AjaxOptions()
						{
							Confirm = "Are you sure?",
							HttpMethod = "POST",
							OnSuccess = "deleteRow",
						})
				</td>
			</tr>
		}
	</tbody>
</table>

